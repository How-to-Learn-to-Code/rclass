<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HTLTC-R: Data structures &amp; subsetting • htltcR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="HTLTC-R: Data structures &amp; subsetting">
<meta property="og:description" content="htltcR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">htltcR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/control.html">HTLTC-R: Control statements</a>
    </li>
    <li>
      <a href="../articles/functions.html">HTLTC-R: Functions</a>
    </li>
    <li>
      <a href="../articles/graphics.html">HTLTC-R: Graphics</a>
    </li>
    <li>
      <a href="../articles/io.html">HTLTC-R: Reading, writing, and regular expressions</a>
    </li>
    <li>
      <a href="../articles/operators.html">HTLTC-R: Operators</a>
    </li>
    <li>
      <a href="../articles/package.html">HTLTC-R: Reproducible research &amp; packages</a>
    </li>
    <li>
      <a href="../articles/palettes.html">HTLTC-R: Color packages</a>
    </li>
    <li>
      <a href="../articles/plotting-ggplot.html">HTLTC-R: Plotting with ggplot2</a>
    </li>
    <li>
      <a href="../articles/plotting.html">HTLTC-R: Plotting</a>
    </li>
    <li>
      <a href="../articles/structures.html">HTLTC-R: Data structures &amp; subsetting</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>HTLTC-R: Data structures &amp; subsetting</h1>
            
      
      
      <div class="hidden name"><code>structures.Rmd</code></div>

    </div>

    
    
<div id="using-this-document" class="section level3">
<h3 class="hasAnchor">
<a href="#using-this-document" class="anchor"></a>Using this document</h3>
<ul>
<li>Code blocks and R code have a grey background (note, code nested in the text is not highlighted in the pdf version of this document but is a different font).</li>
<li># indicates a comment, and anything after a comment will not be evaluated in R</li>
<li>The comments beginning with ## under the code in the grey code boxes are the output from the code directly above; any comments added by us will start with a single #</li>
<li>While you can copy and paste code into R, you will learn faster if you type out the commands yourself.</li>
<li>Read through the document after class. This is meant to be a reference, and ideally, you should be able to understand every line of code. If there is something you do not understand please email us with questions or ask in the following class (you’re probably not the only one with the same question!).</li>
</ul>
</div>
<div id="goals" class="section level3">
<h3 class="hasAnchor">
<a href="#goals" class="anchor"></a>Goals</h3>
<ol style="list-style-type: decimal">
<li>Use the basic R data structures (vector, matrix, list, data.frame)</li>
<li>Subset the four basic data structures</li>
</ol>
</div>
<div id="introduction-to-data-structures" class="section level3">
<h3 class="hasAnchor">
<a href="#introduction-to-data-structures" class="anchor"></a>Introduction to data structures</h3>
<div id="vectors" class="section level4">
<h4 class="hasAnchor">
<a href="#vectors" class="anchor"></a>Vectors</h4>
<p>The most simple data structure available in R is a vector. You can make vectors of numeric values, logical values, and character strings using the <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> function. For example:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>)
<span class="co">## [1] 1 2 3</span>
<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">TRUE</span>, <span class="fl">TRUE</span>, <span class="fl">FALSE</span>)
<span class="co">## [1]  TRUE  TRUE FALSE</span>
<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>)
<span class="co">## [1] "a" "b" "c"</span></pre></body></html></div>
<p>You can also join to vectors using the <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> function.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">x</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>)
<span class="no">y</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">6</span>)
<span class="no">z</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">x</span>, <span class="no">y</span>)
<span class="no">z</span>
<span class="co">## [1] 1 2 5 3 4 6</span></pre></body></html></div>
<hr>
</div>
<div id="in-class-exercises" class="section level4">
<h4 class="hasAnchor">
<a href="#in-class-exercises" class="anchor"></a>In class exercises</h4>
<p>Predict the results for the following vectors. Use R to check your answers.</p>
<p><code>a &lt;- c("1", "2", "3")</code></p>
<p><code>b &lt;- c(4, 5, 6)</code></p>
<p><code>c &lt;- c(a, b)</code></p>
<hr>
</div>
<div id="matrices" class="section level4">
<h4 class="hasAnchor">
<a href="#matrices" class="anchor"></a>Matrices</h4>
<p>A matrix is a special kind of vector with two dimensions. Like a vector, a matrix can only have one data class. You can create matrices using the <code>matrix</code> function as shown below.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="fl">1</span>:<span class="fl">6</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>, <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">3</span>)
<span class="co">##      [,1] [,2] [,3]</span>
<span class="co">## [1,]    1    3    5</span>
<span class="co">## [2,]    2    4    6</span></pre></body></html></div>
<p>As you can see this gives us a matrix of all numbers from 1 to 6 with two rows and three columns. The <code>data</code> parameter takes a vector of values, <code>nrow</code> specifies the number of rows in the matrix, and <code>ncol</code> specifies the number of columns. By convention the matrix is filled by column. The default behavior can be changed with the <code>byrow</code> parameter as shown below:</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="fl">1</span>:<span class="fl">6</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>, <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">byrow</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="co">##      [,1] [,2] [,3]</span>
<span class="co">## [1,]    1    2    3</span>
<span class="co">## [2,]    4    5    6</span></pre></body></html></div>
<p>Matrices do not have to be numeric – any vector can be transformed into a matrix. For example:</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">TRUE</span>, <span class="fl">TRUE</span>, <span class="fl">TRUE</span>, <span class="fl">FALSE</span>, <span class="fl">FALSE</span>, <span class="fl">FALSE</span>), <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">2</span>)
<span class="co">##      [,1]  [,2]</span>
<span class="co">## [1,] TRUE FALSE</span>
<span class="co">## [2,] TRUE FALSE</span>
<span class="co">## [3,] TRUE FALSE</span>
<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>, <span class="st">"e"</span>, <span class="st">"f"</span>), <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">2</span>)
<span class="co">##      [,1] [,2]</span>
<span class="co">## [1,] "a"  "d" </span>
<span class="co">## [2,] "b"  "e" </span>
<span class="co">## [3,] "c"  "f"</span></pre></body></html></div>
<p>Like vectors matrices can be stored as variables and then called later. The rows and columns of a matrix can have names. You can look at these using the functions <code>rownames</code> and <code>colnames</code>. As shown below, the rows and columns don’t initially have names, which is denoted by <code>NULL</code>. However, you can assign values to them.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">mat1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="fl">1</span>:<span class="fl">6</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>, <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">byrow</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span>(<span class="no">mat1</span>)
<span class="co">## NULL</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(<span class="no">mat1</span>)
<span class="co">## NULL</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span>(<span class="no">mat1</span>) <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Row 1"</span>, <span class="st">"Row 2"</span>)
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(<span class="no">mat1</span>) <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Col 1"</span>, <span class="st">"Col 2"</span>, <span class="st">"Col 3"</span>)
<span class="no">mat1</span>
<span class="co">##       Col 1 Col 2 Col 3</span>
<span class="co">## Row 1     1     2     3</span>
<span class="co">## Row 2     4     5     6</span></pre></body></html></div>
<p><strong><em>It is important to note that similarly to vectors, matrices can only have one data type.</em></strong> If you try to specify a matrix with multiple data types the data will be coerced to the higher order data class.</p>
<p>The <code>class</code>, <code>is</code>, and <code>as</code> functions can be used to check and coerce data structures in the same way they were used on the vectors in class 1.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span>(<span class="no">mat1</span>)
<span class="co">## [1] "matrix" "array"</span>
<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">is.matrix</a></span>(<span class="no">mat1</span>)
<span class="co">## [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span>(<span class="no">mat1</span>)
<span class="co">## [1] 1 4 2 5 3 6</span></pre></body></html></div>
<hr>
</div>
<div id="in-class-exercises-1" class="section level4">
<h4 class="hasAnchor">
<a href="#in-class-exercises-1" class="anchor"></a>In class exercises</h4>
<p>Make a matrix that looks like this table:</p>
<table class="table">
<thead><tr class="header">
<th align="center">Col1</th>
<th align="center">Col2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">9</td>
</tr>
</tbody>
</table>
<hr>
</div>
<div id="lists" class="section level4">
<h4 class="hasAnchor">
<a href="#lists" class="anchor"></a>Lists</h4>
<p>Lists allow users to store multiple elements (like vectors and matrices) under a single object. You can use the <code>list</code> function to create a list:</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">l1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>), <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>))
<span class="no">l1</span>
<span class="co">## [[1]]</span>
<span class="co">## [1] 1 2 3</span>
<span class="co">## </span>
<span class="co">## [[2]]</span>
<span class="co">## [1] "a" "b" "c"</span></pre></body></html></div>
<p>Notice the vectors that make up the above list are different classes. Lists allow users to group elements of different classes. Each element in a list can also have a name. List names are accessed by the <code>names</code> function, and are assigned in the same manner row and column names are assigned in a matrix.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">l1</span>)
<span class="co">## NULL</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">l1</span>) <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"vector1"</span>, <span class="st">"vector2"</span>)
<span class="no">l1</span>
<span class="co">## $vector1</span>
<span class="co">## [1] 1 2 3</span>
<span class="co">## </span>
<span class="co">## $vector2</span>
<span class="co">## [1] "a" "b" "c"</span></pre></body></html></div>
<p>It is often easier and safer to declare the list names when creating the list object.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">l2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">vec</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span>),
           <span class="kw">mat</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>), <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">3</span>))
<span class="no">l2</span>
<span class="co">## $vec</span>
<span class="co">## [1] 1 3 5 7 9</span>
<span class="co">## </span>
<span class="co">## $mat</span>
<span class="co">##      [,1]</span>
<span class="co">## [1,]    1</span>
<span class="co">## [2,]    2</span>
<span class="co">## [3,]    3</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">l2</span>)
<span class="co">## [1] "vec" "mat"</span></pre></body></html></div>
<p>Above the list has two elements, named “vec” and “mat,” a vector and matrix, resepcively.</p>
<hr>
</div>
<div id="in-class-exercises-2" class="section level4">
<h4 class="hasAnchor">
<a href="#in-class-exercises-2" class="anchor"></a>In class exercises</h4>
<p>Make a list with appropriate list names that includes the following information about you: age, height (in inches), eye color, and hair color.</p>
<hr>
</div>
<div id="data-frames" class="section level4">
<h4 class="hasAnchor">
<a href="#data-frames" class="anchor"></a>Data frames</h4>
<p>Data frames are likely the data structure you will used most in your analyses. A data frame is a special kind of list that stores same-length vectors of different classes. You create data frames using the <code>data.frame</code> function. The example below shows this by combining a numeric and a character vector into a data frame. It uses the <code>:</code> operator, which will create a vector containing all integers from 1 to 3.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">df1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="fl">1</span>:<span class="fl">3</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>))
<span class="no">df1</span>
<span class="co">##   x y</span>
<span class="co">## 1 1 a</span>
<span class="co">## 2 2 b</span>
<span class="co">## 3 3 c</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span>(<span class="no">df1</span>)
<span class="co">## [1] "data.frame"</span></pre></body></html></div>
<p>The benefit of data frame objects will be evident in the next section on subsetting objects. Data frame objects do not print with quotation marks, so the class of the columns is not always obvious.</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="no">df2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>), <span class="kw">y</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>))
<span class="no">df2</span>
<span class="co">##   x y</span>
<span class="co">## 1 1 a</span>
<span class="co">## 2 2 b</span>
<span class="co">## 3 3 c</span></pre></body></html></div>
<p>Without further investigation, the “x” columns in <code>df1</code> and <code>df2</code> cannot be differentiated. The <code>str</code> function can be used to describe objects with more detail than class.</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">df1</span>)
<span class="co">## 'data.frame':    3 obs. of  2 variables:</span>
<span class="co">##  $ x: int  1 2 3</span>
<span class="co">##  $ y: chr  "a" "b" "c"</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">df2</span>)
<span class="co">## 'data.frame':    3 obs. of  2 variables:</span>
<span class="co">##  $ x: chr  "1" "2" "3"</span>
<span class="co">##  $ y: chr  "a" "b" "c"</span></pre></body></html></div>
<p>Here you see that <code>df1</code> is a <code>data.frame</code> and has 3 observations of 2 variables, “x” and “y.” Then you are told that “x” has the data type integer (not important for this class, but for our purposes it behaves like a numeric) and “y” is a factor with three levels (another data class we are not discussing). <strong><em>It is important to note that, by default, data frames coerce characters to factors.</em></strong> The default behavior can be changed with the <code>stringsAsFactors</code> parameter:</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="no">df3</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="fl">1</span>:<span class="fl">3</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>), <span class="kw">stringsAsFactors</span> <span class="kw">=</span> <span class="fl">FALSE</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">df3</span>)
<span class="co">## 'data.frame':    3 obs. of  2 variables:</span>
<span class="co">##  $ x: int  1 2 3</span>
<span class="co">##  $ y: chr  "a" "b" "c"</span></pre></body></html></div>
<p>Now the “y” column is a character. As mentioned above, each “column” of a data frame must have the same length. Trying to create a data.frame from vectors with different lengths will result in an error. (Try running <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame(x = 1:3, y = 1:4)</a></code> to see the resulting error.)</p>
<hr>
</div>
<div id="in-class-exercises-3" class="section level4">
<h4 class="hasAnchor">
<a href="#in-class-exercises-3" class="anchor"></a>In class exercises</h4>
<p>Make a data frame with appropriate list names that includes the following information about you: age, height (in inches), eye color, and hair color.</p>
<hr>
</div>
</div>
<div id="subsetting-objects" class="section level3">
<h3 class="hasAnchor">
<a href="#subsetting-objects" class="anchor"></a>Subsetting objects</h3>
<p>We will discuss three subsetting operators: <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code>, <code><a href="https://rdrr.io/r/base/Extract.html">[[</a></code>, and <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code>.</p>
<div id="vectors-1" class="section level4">
<h4 class="hasAnchor">
<a href="#vectors-1" class="anchor"></a>Vectors</h4>
<p>We will start with vectors, and the <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> operator. First create an example vector, then select the third element.</p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="no">v1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>)
<span class="no">v1</span>[<span class="fl">3</span>]
<span class="co">## [1] "c"</span></pre></body></html></div>
<p>The <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> operator can also take a vector as the argument. For example you can select the first and third elements:</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="no">v1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>)
<span class="no">v1</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">3</span>)]
<span class="co">## [1] "a" "c"</span></pre></body></html></div>
<hr>
</div>
<div id="in-class-exercises-4" class="section level4">
<h4 class="hasAnchor">
<a href="#in-class-exercises-4" class="anchor"></a>In class exercises</h4>
<p>Subset “c”, “a”, and “b” from <code>v1</code> in that order.</p>
<hr>
</div>
<div id="lists-1" class="section level4">
<h4 class="hasAnchor">
<a href="#lists-1" class="anchor"></a>Lists</h4>
<p>Similarly, you can use <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> to subset a list:</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="no">l1</span>
<span class="co">## $vector1</span>
<span class="co">## [1] 1 2 3</span>
<span class="co">## </span>
<span class="co">## $vector2</span>
<span class="co">## [1] "a" "b" "c"</span>
<span class="no">l1</span>[<span class="fl">2</span>]
<span class="co">## $vector2</span>
<span class="co">## [1] "a" "b" "c"</span></pre></body></html></div>
<p>Notice that the result of <code>l1[2]</code> is still a list. (Try running <code><a href="https://rdrr.io/r/base/class.html">class(l1[2])</a></code> or <code><a href="https://rdrr.io/r/utils/str.html">str(l1[2])</a></code> to prove to yourself that the result is in fact list.) What if you want to select the vector the list contains? The <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> operator allows you to subset on elements of a list, as you would for a vector. The <code><a href="https://rdrr.io/r/base/Extract.html">[[</a></code> operator allows you to extract list elements. If you want to extract “vector1” you can either select it by the index (1, because it is the first element in the list) or, in a named list, you can subset by name.</p>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="no">l1</span><span class="kw">[[</span><span class="fl">1</span>]]
<span class="co">## [1] 1 2 3</span>
<span class="no">l1</span><span class="kw">[[</span><span class="st">"vector1"</span>]]
<span class="co">## [1] 1 2 3</span></pre></body></html></div>
<p>Note, you can also provide a vector of names to the <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> operator.</p>
<hr>
</div>
<div id="in-class-exercises-5" class="section level4">
<h4 class="hasAnchor">
<a href="#in-class-exercises-5" class="anchor"></a>In class exercises</h4>
<p>Subset your hair color from the list you made in a previous exercise.</p>
<hr>
</div>
<div id="matrices-1" class="section level4">
<h4 class="hasAnchor">
<a href="#matrices-1" class="anchor"></a>Matrices</h4>
<p>Now we can discuss how to subset on two-dimensional objects. For each dimension the <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> operator takes one argument. Vectors, being 1 dimension, take one argument. Matrices and data frames take two arguments, given as <code>[i, j]</code> where <code>i</code> is the the row and <code>j</code> is the column. Recall <code>mat1</code>:</p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="no">mat1</span>
<span class="co">##       Col 1 Col 2 Col 3</span>
<span class="co">## Row 1     1     2     3</span>
<span class="co">## Row 2     4     5     6</span>
<span class="no">mat1</span>[<span class="fl">2</span>, <span class="fl">1</span>]
<span class="co">## [1] 4</span></pre></body></html></div>
<p>You can see that an <code>i</code> value of <code>2</code> and a <code>j</code> value of <code>1</code> gave the number in the second row and the first column. You do not have to provide both an <code>i</code> and a <code>j</code> value, providing only one or the other returns the vector for the given row.</p>
<div class="sourceCode" id="cb20"><html><body><pre class="r"><span class="no">mat1</span>[ , <span class="fl">3</span>]
<span class="co">## Row 1 Row 2 </span>
<span class="co">##     3     6</span>
<span class="no">mat1</span>[<span class="fl">1</span>, ]
<span class="co">## Col 1 Col 2 Col 3 </span>
<span class="co">##     1     2     3</span></pre></body></html></div>
<p>Like with lists, the matrices can also be subset by name when the matrix has row or column names.</p>
<div class="sourceCode" id="cb21"><html><body><pre class="r"><span class="no">mat1</span>[ , <span class="st">"Col 1"</span>]
<span class="co">## Row 1 Row 2 </span>
<span class="co">##     1     4</span></pre></body></html></div>
<p>When subsetting, R attempts to simplify the data structure. As you see in the examples above, subsetting the matrices results in a vector. When you provide a vector to <code>i</code> or <code>j</code> the result does not <em>always</em> simplify to a vector, but may instead maintain the matrix structure.</p>
<div class="sourceCode" id="cb22"><html><body><pre class="r"><span class="no">mat1</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Row 1"</span>), <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Col 1"</span>, <span class="st">"Col 3"</span>)] <span class="co">## Can be simplified to a vector</span>
<span class="co">## Col 1 Col 3 </span>
<span class="co">##     1     3</span>
<span class="no">mat1</span>[<span class="fl">1</span>:<span class="fl">2</span>, <span class="fl">2</span>:<span class="fl">3</span>] <span class="co">## Cannot be simplified to a vector</span>
<span class="co">##       Col 2 Col 3</span>
<span class="co">## Row 1     2     3</span>
<span class="co">## Row 2     5     6</span></pre></body></html></div>
<hr>
</div>
<div id="in-class-exercises-6" class="section level4">
<h4 class="hasAnchor">
<a href="#in-class-exercises-6" class="anchor"></a>In class exercises</h4>
<p>Subset the second column from <code>mat2</code>.</p>
<hr>
<p>The other subsetting operator you need to know for this course is <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code>. The <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> operator allows you to select list elements by name. For example, consider <code>l1</code> again. <code>l1</code> has two elements, named “vector1” and “vector2,” and you can select one or the other with the <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> operator.</p>
<div class="sourceCode" id="cb23"><html><body><pre class="r"><span class="no">l1</span>$<span class="no">vector1</span>
<span class="co">## [1] 1 2 3</span></pre></body></html></div>
<p>Notice that you do not put quotes around the list names when providing them to the <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> operator, and the <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> operator can only take a single name.</p>
</div>
<div id="data-frames-1" class="section level4">
<h4 class="hasAnchor">
<a href="#data-frames-1" class="anchor"></a>Data frames</h4>
<p>Finally, let us discuss subsetting a data frame. Recall from earlier that a data frame is just a special list, so you can subset a data frame in all the same ways you subset a list. Consider <code>df3</code>:</p>
<div class="sourceCode" id="cb24"><html><body><pre class="r"><span class="no">df3</span>
<span class="co">##   x y</span>
<span class="co">## 1 1 a</span>
<span class="co">## 2 2 b</span>
<span class="co">## 3 3 c</span>
<span class="no">df3</span>[<span class="fl">1</span>]
<span class="co">##   x</span>
<span class="co">## 1 1</span>
<span class="co">## 2 2</span>
<span class="co">## 3 3</span>
<span class="no">df3</span><span class="kw">[[</span><span class="fl">2</span>]]
<span class="co">## [1] "a" "b" "c"</span>
<span class="no">df3</span>$<span class="no">x</span>
<span class="co">## [1] 1 2 3</span></pre></body></html></div>
<p>Notice how using the <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> operator differs from <code><a href="https://rdrr.io/r/base/Extract.html">[[</a></code> and <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code>. (You can think of <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> as shorthand for <code><a href="https://rdrr.io/r/base/Extract.html">[[</a></code> when you only want to select one element by name.) As we saw in the list subsetting, using <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> preserved the list structure (or in this case, the data frame structure), unlike the <code><a href="https://rdrr.io/r/base/Extract.html">[[</a></code> operator which attempts to simplify the data structure.</p>
<p>Unlike a list, you can also subset data frame like you would a two dimensional matrix using both an <code>i</code> and a <code>j</code> statement.</p>
<div class="sourceCode" id="cb25"><html><body><pre class="r"><span class="no">df3</span>[<span class="fl">1</span>, <span class="fl">2</span>]
<span class="co">## [1] "a"</span>
<span class="no">df3</span>[<span class="fl">2</span>, ]
<span class="co">##   x y</span>
<span class="co">## 2 2 b</span>
<span class="no">df3</span>[ , <span class="fl">1</span>]
<span class="co">## [1] 1 2 3</span></pre></body></html></div>
<p>Notice how subsetting by <code>i</code> and <code>j</code> alone differ. Every column of a data frame is essentially a vector in a list. So when you select one column, the data structure is simplified to a vector. However, selecting 1 row does not simplify, because different columns may have different data classes and it does not make sense to coerce all of the columns to one data type.</p>
<hr>
</div>
<div id="in-class-exercises-7" class="section level4">
<h4 class="hasAnchor">
<a href="#in-class-exercises-7" class="anchor"></a>In class exercises</h4>
<p>Subset your hair color from the data frame you made in a previous exercise using each of the operators (<code><a href="https://rdrr.io/r/base/Extract.html">[</a></code>, <code><a href="https://rdrr.io/r/base/Extract.html">[[</a></code>, and <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code>).</p>
<hr>
</div>
</div>
<div id="modifying-a-subset" class="section level3">
<h3 class="hasAnchor">
<a href="#modifying-a-subset" class="anchor"></a>Modifying a subset</h3>
<p>Recall how you changed the row and column names of the matrix above. Similarly, you can change the values in an object for just a subset using the assignment operator (<code>&lt;-</code>).</p>
<p>For example, consider the following matrix.</p>
<div class="sourceCode" id="cb26"><html><body><pre class="r"><span class="no">mat2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="fl">1</span>:<span class="fl">10</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>)
<span class="no">mat2</span>
<span class="co">##      [,1] [,2] [,3] [,4] [,5]</span>
<span class="co">## [1,]    1    3    5    7    9</span>
<span class="co">## [2,]    2    4    6    8   10</span></pre></body></html></div>
<p>Now, change the 6 to 100.</p>
<div class="sourceCode" id="cb27"><html><body><pre class="r"><span class="no">mat2</span>[<span class="fl">2</span>, <span class="fl">3</span>]
<span class="co">## [1] 6</span>
<span class="no">mat2</span>[<span class="fl">2</span>, <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">100</span>
<span class="no">mat2</span>
<span class="co">##      [,1] [,2] [,3] [,4] [,5]</span>
<span class="co">## [1,]    1    3    5    7    9</span>
<span class="co">## [2,]    2    4  100    8   10</span></pre></body></html></div>
<p>The last thing we will mention is that you can add elements to list obejcts using the <code><a href="https://rdrr.io/r/base/Extract.html">[[</a></code> and <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> operators. Consider <code>l2</code> from above.</p>
<div class="sourceCode" id="cb28"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">l2</span>)
<span class="co">## List of 2</span>
<span class="co">##  $ vec: num [1:5] 1 3 5 7 9</span>
<span class="co">##  $ mat: num [1:3, 1] 1 2 3</span>
<span class="no">l2</span>$<span class="no">new_element</span> <span class="kw">&lt;-</span> <span class="st">"hello"</span>
<span class="no">l2</span>
<span class="co">## $vec</span>
<span class="co">## [1] 1 3 5 7 9</span>
<span class="co">## </span>
<span class="co">## $mat</span>
<span class="co">##      [,1]</span>
<span class="co">## [1,]    1</span>
<span class="co">## [2,]    2</span>
<span class="co">## [3,]    3</span>
<span class="co">## </span>
<span class="co">## $new_element</span>
<span class="co">## [1] "hello"</span></pre></body></html></div>
<p>There is a lot of information about subsetting and modifying objects that we do not have time to cover in this course, so we encourage you to spend some time experimenting on your own.</p>
</div>
<div id="exercises" class="section level3">
<h3 class="hasAnchor">
<a href="#exercises" class="anchor"></a>Exercises</h3>
<p>These exercises are to help you solidify and expand on the information given above. We intentionally added some concepts that were not covered above, and hope that you will take a few minutes to think through what is happening and how R is interpreting the code.</p>
<ol style="list-style-type: decimal">
<li><p>Create a data frame with two columns: “col1” with the letters a to f, “col2” with the numbers 1 to 6, and “col3” with the alternating TRUE and FALSE values. Store the data frame as “mydf.”</p></li>
<li><p>Coerce <code>mydf</code> from exercise 1 to a matrix using the <code>as.matrix</code> function. Predict how the data will change. What class will the data be? Will there be column names? Row names?</p></li>
<li><p>Subsetting can also be done with logical vectors the same length of the object or dimension you would like to subset. For example, if you have a list <code>l</code> with three elements, <code>l[c(TRUE, FALSE, TRUE)]</code> would return a list with elements one and three from <code>l</code>. Figure out how to use <code>mydf</code> to subset only to rows where ‘col3’ is <code>TRUE</code>. (You should attempt to think of a solution that only requires one line of code. Hint: you can pass elements of an obect to itself.)</p></li>
<li><p>You can stack subsetting operators next to each other. Using <code>l2</code> from above, select the 7 from ‘vec.’ Now try to select the last two rows from ‘mat’. (Again, you should attempt to think of a solution that only requires one line of code for each selection.)</p></li>
<li><p>Recall how you added an element to <code>l2</code> using the <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> operator. Again, a data frame is just a special list. Add a column to <code>mydf</code> called “col4” with a vector of your choice.</p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Dayne L Filer, Amy Pomeroy.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
